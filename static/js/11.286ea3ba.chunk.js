(this["webpackJsonpmanagement-done"]=this["webpackJsonpmanagement-done"]||[]).push([[11],{442:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var c=n(34),r=n(77),a=n(110),i=n(43),j=n(170),o=n(437),d=n(438),u=n(425),b=n(424),l=n(427),s=n.n(l),O=n(172),h=n(439),m=n(28),f=function(e){var t=e.checked,n=e.onCheckedChange,c=Object(j.a)(e,["checked","onCheckedChange"]);return Object(m.jsx)(h.a,Object(i.a)({count:1,value:t?1:0,onChange:function(e){return null===n||void 0===n?void 0:n(!!e)}},c))},x=n(417),p=function(e){var t=e.admins,n=Object(j.a)(e,["admins"]),c=Object(x.d)(Object(x.i)()).mutate;return Object(m.jsx)(o.a,Object(i.a)({rowKey:"id",pagination:!1,columns:[{title:Object(m.jsx)(f,{checked:!0,disabled:!0}),render:function(e,t){return Object(m.jsx)(f,{checked:t.pin,onCheckedChange:(n=t.id,function(e){return c({id:n,pin:e})})});var n}},{title:"\u9879\u76ee\u540d\u79f0",sorter:function(e,t){return e.name.localeCompare(t.name)},render:function(e,t){return Object(m.jsx)(O.b,{to:String(t.id),children:t.name})}},{title:"\u90e8\u95e8",dataIndex:"organization"},{title:"\u8d1f\u8d23\u4eba",render:function(e,n){var c;return Object(m.jsx)("span",{children:(null===(c=t.find((function(e){return e.id===n.personId})))||void 0===c?void 0:c.name)||"unknown"})}},{title:"\u521b\u5efa\u65f6\u95f4",render:function(e,t){return Object(m.jsx)("span",{children:t.created?s()(t.created).format("YYYY-MM-DD"):"\u65e0"})}},{render:function(e,t){return Object(m.jsx)(k,{project:t})}}]},n))},k=function(e){var t,n=e.project,c=Object(x.f)().editModalUrl,a=Object(x.c)(Object(x.i)()).mutate;return Object(m.jsx)(u.a,{overlay:Object(m.jsxs)(b.a,{children:[Object(m.jsx)(b.a.Item,{onClick:(t=n.id,function(){return c(t)}),children:"\u7f16\u8f91"},"edit"),Object(m.jsx)(b.a.Item,{onClick:function(){return function(e){d.a.confirm({title:"\u786e\u5b9a\u5220\u9664\u8fd9\u4e2a\u9879\u76ee\u5417?",content:"\u70b9\u51fb\u786e\u5b9a\u5220\u9664",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){a({id:e})}})}(n.id)},children:"\u5220\u9664"},"delete")]}),children:Object(m.jsx)(r.a,{type:"link",children:"..."})})},v=n(412),g=n(413),C=n(418),I=function(e){var t=e.param,n=e.setParam;Object(j.a)(e,["param","setParam"]);return Object(m.jsxs)(v.a,{style:{marginBottom:"2rem"},layout:"inline",children:[Object(m.jsx)(v.a.Item,{children:Object(m.jsx)(g.a,{placeholder:"\u9879\u76ee\u540d\u79f0",type:"text",value:t.name,onChange:function(e){return n(Object(i.a)(Object(i.a)({},t),{},{name:e.target.value}))}})}),Object(m.jsx)(v.a.Item,{children:Object(m.jsx)(C.a,{defaultOptionName:"\u8d1f\u8d23\u4eba",value:t.personId,onChange:function(e){return n(Object(i.a)(Object(i.a)({},t),{},{personId:e}))}})})]})};function y(){var e=Object(x.g)(),t=Object(c.a)(e,2),n=t[0],i=t[1],j=Object(x.h)(Object(a.d)(n,500)),o=j.isLoading,d=j.error,u=j.data,b=Object(x.b)().data,l=Object(x.f)().createModalUrl;return Object(a.e)("\u9879\u76ee\u5217\u8868 ",!1),Object(m.jsxs)(r.f,{children:[Object(m.jsxs)(r.e,{between:"true",children:[Object(m.jsx)("h1",{children:"\u9879\u76ee\u5217\u8868"}),Object(m.jsx)(r.a,{onClick:l,type:"link",children:"\u521b\u5efa\u9879\u76ee"})]}),Object(m.jsx)(I,{admins:b||[],param:n,setParam:i}),Object(m.jsx)(r.b,{error:d}),Object(m.jsx)(p,{loading:o,admins:b||[],dataSource:u||[]})]})}}}]);